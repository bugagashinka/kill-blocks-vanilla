!function(t){function e(e){for(var r,i,c=e[0],l=e[1],u=e[2],f=0,d=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);for(s&&s(e);d.length;)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,c=1;c<n.length;c++){var l=n[c];0!==o[l]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={0:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var s=l;a.push([122,1]),n()}({122:function(t,e,n){n(123),t.exports=n(314)},313:function(t,e,n){},314:function(t,e,n){"use strict";n.r(e);n(309);var r=n(88),o=n.n(r);n(312),n(313),n.p;var a=function(t,e){return Math.random()*(e-t)+t},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0};return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};const c=t=>{try{return JSON.parse(t)}catch(e){return JSON.stringify(t)}};function l(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||p(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(t,e)||p(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}!function(t){var e,n,r,u,f,p,y,m,v=[15,50,100],b=[{points:3,scaleRatio:4},{points:2,scaleRatio:2},{points:1,scaleRatio:1}],h=t.document,g=t.window,w=[],O=!1,x=60,j=0,E=[320,240],P=[];function S(){O&&((x-=1)<0&&(x=0,m.text(j),y.modal("show"),y.on("hide.bs.modal",(function(){L(),p.textContent="Play",O=!1}))),n.textContent=x)}function _(){x=60,n.textContent=x}function C(){!function(){O&&(t=P.length)<4&&Array(4-t).fill(null).forEach((function(){P.push(function(){var t=[a(1e3/60,500),a(1e3,2e3)],e=t[0],n=t[1],r=a(0,100),o=v.findIndex((function(t){return r<=t})),i=b[o],c=i.points,l=i.scaleRatio,u={points:c,color:"rgb(".concat(a(0,255),", ").concat(a(0,255),", ").concat(a(0,255),")"),scaleRatio:l,pos:I(l),delay:e,lifeTime:n},f=h.createElement("span");f.classList.add("dice__points"),f.textContent="+".concat(u.points);var d=h.createElement("div");return d.classList.add("dice","dice_appear"),Object.assign(d.style,{backgroundColor:u.color,left:"".concat(u.pos.x,"px"),top:"".concat(u.pos.y,"px"),width:"".concat(50/l,"px"),height:"".concat(50/l,"px"),animationPlayState:"running"}),d.appendChild(f),s(s({},u),{},{element:d})}())}));var t;P=P.filter((function(t){var n=t.element;if(!O)return n.style.animationPlayState="paused",!0;if(n.style.animationPlayState="running",e.contains(n)){if(t.lifeTime-=1e3/60,t.lifeTime<=0)return n.classList.add("dice_disappear"),n.addEventListener("animationend",(function t(e){n.remove(n),e.currentTarget.removeEventListener(e.type,t)})),!1}else t.delay-=1e3/60,t.delay<=0&&e.appendChild(n);return!0}))}()}function L(){O=!0,_(),j=0,r.textContent=0,e.innerHTML="",P=[],p.textContent="Pause"}var I=function(t){var e,n,r=50/t,o=!0,c=20;do{var l=d(E,2),u=l[0],s=l[1],f=[a(0,u-r),a(0,s-r)];e=f[0],n=f[1],o=P.some((function(t){var r=t.pos;return i(r,{x:e,y:n})<75}))}while(o&&--c);return{x:e,y:n}};function k(t){if(!t.classList.contains("dice_disappear")){var e=P.find((function(e){return e.element===t})).points;j+=e,r.textContent=j,t.style.backgroundColor="#ff0000",t.classList.add("dice_disappear"),t.firstElementChild.classList.add("dice__points_show")}}var M=function(){E=[e.clientWidth,e.clientHeight]};function T(){var t,e=w.map((function(t){var e=t.name,n=t.score,r=h.createElement("tr"),o=h.createElement("td");o.textContent=e;var a=h.createElement("td");return a.textContent=n,r.append(o,a),r}));u.innerHTML="",(t=u).append.apply(t,l(e))}function A(){e=h.getElementById("stage"),n=h.getElementById("timer"),r=h.getElementById("score"),u=h.getElementById("score-table-body"),f=h.getElementById("replay-btn"),p=h.getElementById("toggle-game-btn"),y=o()("#modal-window"),m=y.find(".modal__score-value"),g.addEventListener("resize",M),M(),_(),r.textContent=j,f.addEventListener("click",L),p.addEventListener("click",(function(t){var e=t.currentTarget;e.textContent="Play"==e.textContent?"Pause":"Play",O=!O}));var t=d(E,2);e.style.width=t[0],e.style.height=t[1],e.addEventListener("click",(function(t){var e=t.target;e.classList.contains("dice")&&O&&k(e)})),T(),y.modal({keyboard:!1,show:!1}),m.text(j),y.find(".modal__ok-btn").on("click",(function(){var t=y.find(".modal__input").val().trim(),e=t||"Anonymous",n={key:(new Date).getTime(),name:e,score:j};w.push(n),w.sort((function(t,e){var n=t.score;return e.score-n})),((t=[])=>{localStorage.setItem("scores",c(t))})(w),T(),y.modal("hide")}))}h.addEventListener("DOMContentLoaded",(function(){w=c(localStorage.getItem("scores"))||[],A(),setInterval(S,1e3),setInterval(C,1e3/60)}))}(window)}});